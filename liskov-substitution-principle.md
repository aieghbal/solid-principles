# ๐ Liskov Substitution Principle (LSP)

## ุงุตู ุณูู SOLID ุจุง ูุซุงู ูุงูุน ุฏุฑ Laravel

> **ูุฑ ฺฉูุงุณ ฺฉู ุงุฒ ฺฉ ฺฉูุงุณ ุฏฺฏุฑ ุงุฑุซโุจุฑ ูโฺฉูุฏุ
> ุจุงุฏ ุจุชูุงูุฏ ุจุฏูู ุงุฌุงุฏ ุฎุทุง ุฌุง ุขู ุงุณุชูุงุฏู ุดูุฏ.**

ุจู ุฒุจุงู ุณุงุฏู:

> ุงฺฏุฑ `B` ูุฑุฒูุฏ `A` ุงุณุชุ
> ูุฑ ุฌุง ฺฉู `A` ุงุณุชูุงุฏู ูโุดูุฏุ ุจุงุฏ ุจุชูุงู `B` ุฑุง ูู ุงุณุชูุงุฏู ฺฉุฑุฏ
> **ุจุฏูู ุงูฺฉู ุฑูุชุงุฑ ุณุณุชู ุฎุฑุงุจ ุดูุฏ.**

---

## ๐ฏ ุชุนุฑู ุณุงุฏู LSP

ุงฺฏุฑ ฺฉ ฺฉูุงุณ ูุฑุฒูุฏ:

* ุฑูุชุงุฑ ฺฉูุงุณ ูพุฏุฑ ุฑุง ุจุดฺฉูุฏ
* ุง ุจุงุนุซ ุฎุทุง ููุทู ุดูุฏ

โก๏ธ ุงุตู LSP ููุถ ุดุฏู ุงุณุช.

---

## โ ูุซุงู ุบูุท (ููุถ LSP)

ูุฑุถ ฺฉู ุงู ุณุงุฎุชุงุฑ ุฑุง ุฏุงุฑู:

```php
class FileUploader
{
    public function upload(string $file): bool
    {
        return true;
    }
}
```

### ฺฉูุงุณ ูุฑุฒูุฏ:

```php
class ImageUploader extends FileUploader
{
    public function upload(string $file): bool
    {
        if (!str_ends_with($file, '.jpg')) {
            throw new Exception("Only JPG allowed!");
        }

        return true;
    }
}
```

### ุงุณุชูุงุฏู:

```php
function uploadFile(FileUploader $uploader)
{
    $uploader->upload('document.pdf');
}
```

ุงฺฏุฑ ุจู ุฌุง `FileUploader`ุ ุงุฒ `ImageUploader` ุงุณุชูุงุฏู ฺฉูู:

```php
uploadFile(new ImageUploader());
```

โ ุณุณุชู ฺฉุฑุด ูโฺฉูุฏ โ ููุถ LSP

---

## โ ูุณุฎู ุตุญุญ ุจุง ุฑุนุงุช LSP

### 1๏ธโฃ ุงูุชุฑูุณ ุฌุฏุงฺฏุงูู

```php
interface Uploader
{
    public function upload(string $file): bool;
}
```

---

### 2๏ธโฃ ูพุงุฏูโุณุงุฒโูุง ูุณุชูู

```php
class GenericFileUploader implements Uploader
{
    public function upload(string $file): bool
    {
        return true;
    }
}
```

```php
class ImageUploader implements Uploader
{
    public function upload(string $file): bool
    {
        if (!str_ends_with($file, '.jpg')) {
            return false;
        }

        return true;
    }
}
```

---

### 3๏ธโฃ ุงุณุชูุงุฏู ุงูู

```php
function uploadFile(Uploader $uploader)
{
    $uploader->upload('image.jpg');
}
```

ูุฑ ฺฉุฏุงู ุงุฒ ุงู ฺฉูุงุณโูุง ุฑุง ุจุฏู:

* ุฑูุชุงุฑ ุณุณุชู ููโุดฺฉูุฏ
* ุจุฑูุงูู ูพุงุฏุงุฑ ูโูุงูุฏ

---

## ๐ง ูุงููู ุทูุง LSP

ฺฉูุงุณ ูุฑุฒูุฏ:

* ูุจุงุฏ ุดุฑุท ุณุฎุชโุชุฑ ุงุฒ ูพุฏุฑ ุฏุงุดุชู ุจุงุดุฏ
* ูุจุงุฏ ุฎุทุง ุฌุฏุฏ ุจุณุงุฒุฏ
* ูุจุงุฏ ุฎุฑูุฌ ูุชูุงูุช ุบุฑููุชุธุฑู ุจุฏูุฏ

---

## ๐ ูุดุงููโูุง ููุถ LSP

ุงฺฏุฑ ุฏุฑ ฺฉูุงุณ ูุฑุฒูุฏ:

* Exception ุฌุฏุฏ ูโุณุงุฒ
* ูุฑูุฏ ุฑุง ูุญุฏูุฏุชุฑ ูโฺฉู
* ุง ุฑูุชุงุฑ ุฑุง ุชุบุฑ ูโุฏู

โก๏ธ LSP ุดฺฉุณุชู ุดุฏู ุงุณุช.

---

## ๐ ุฌูุนโุจูุฏ

| ุงุตู   | ูุนู                                       |
| ----- | ------------------------------------------ |
| LSP   | ฺฉูุงุณ ูุฑุฒูุฏ ุจุงุฏ ุฌุง ูพุฏุฑ ุฑุง ุจุฏูู ูุดฺฉู ุจฺฏุฑุฏ |
| ูุฏู   | ุฌููฺฏุฑ ุงุฒ ุฑูุชุงุฑ ุบุฑููุชุธุฑู                 |
| ูุชุฌู | ุณุณุชู ูพุงุฏุงุฑุ ูุงุจู ุงุนุชูุงุฏุ ูุงุจู ุชุณุช        |

